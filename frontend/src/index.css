@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@600&display=swap");
@import "tailwindcss";

@font-face {
  font-family: "International";
  src: url("./assets/fonts/international/International.ttf") format("truetype");
  font-display: swap;
}
@plugin "tailwind-scrollbar";
@import "./style/tokens.css";
@import "flag-icons/css/flag-icons.min.css";

@theme {
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-border: hsl(var(--border));
  --color-ring: hsl(var(--ring));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  --color-background: var(--background);
  --color-accent-primary: var(--accent-primary);
  --color-accent-secondary: var(--accent-secondary);
  --color-text-h1: var(--text-h1);
  --color-badge-primary: var(--badge-primary);
  --color-badge-foreground: var(--badge-foreground);
  --color-text-p: var(--text-p);
  --color-accent-foreground: var(--accent-foreground);
  --color-component-primary: var(--component-primary);
  --color-action-primary: var(--action-primary);
  --color-action-hover: var(--action-hover);
  --color-accent-thirdary: var(--accent-thirdary);
  --color-subtle: var(--subtle);

  /* Custom breakpoints — replaces tailwind.config.js theme.extend.screens (silently ignored in TW4) */
  --breakpoint-3xl: 120rem;  /* 1920px */
  --breakpoint-4xl: 160rem;  /* 2560px */

  /* Navbar offset spacing token — generates mt-navbar-offset utility */
  /* Responsive value set via --navbar-height CSS variable in :root */
  --spacing-navbar-offset: var(--navbar-height);
}

:root {
  /* Z-index scale — canonical stacking layers. Use z-(--z-*) syntax in TSX. */
  --z-base:      1;
  --z-raised:    10;   /* cards on hover, inline elevated elements */
  --z-dropdown:  20;   /* dropdowns, listbox options */
  --z-sticky:    50;   /* sticky navbar */
  --z-overlay:   60;   /* mobile filter drawer backdrop */
  --z-drawer:    100;  /* mobile nav drawer / genre panel */
  --z-searchbar: 110;  /* search overlay */
  --z-modal:     140;  /* Headless UI dialog backdrop */
  --z-dialog:    150;  /* Headless UI dialog panel */
  --z-toast:     200;  /* react-hot-toast notifications */

  /* Navbar height — responsive, drives mt-navbar-offset utility */
  --navbar-height: 5rem;        /* mobile: 80px (mt-20 equivalent) */
}

@media (min-width: 48rem) {   /* md: 768px */
  :root { --navbar-height: 6rem; }  /* 96px = mt-24 */
}
@media (min-width: 64rem) {   /* lg: 1024px */
  :root { --navbar-height: 7rem; }  /* 112px = mt-28 */
}
@media (min-width: 80rem) {   /* xl: 1280px */
  :root { --navbar-height: 8rem; }  /* 128px = mt-32 */
}

@layer scrollbar {
  * {
    @apply scrollbar-thin scrollbar-thumb-accent-primary scrollbar-track-transparent;
  }
}

@keyframes slideIn {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@layer utilities {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .pb-safe-or-4 {
    /* Minimum 1rem spacing even when safe-area-inset-bottom is 0 */
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}
